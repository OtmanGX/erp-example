<div fxLayout="row" fxLayoutAlign="start center">
  <mat-card fxFlex *ngFor="let salepoint of salePoints$ | async">
    <mat-card-header>
      <mat-card-title>
        {{ salepoint.name }}
      </mat-card-title>
      <mat-card-subtitle>
        Caisse:
        <ng-container *ngIf="salepoint.cash_boxes?.length; else withoutCashBox">
          <span class='font-weight-bold'>{{salepoint.cash_boxes[0].name}}</span>
        </ng-container>
        <ng-template #withoutCashBox>
          <span class="mat-color-warn">
            {{ WIHOUT_CASHBOX }}
          </span>
        </ng-template>
      </mat-card-subtitle>
    </mat-card-header>
      <mat-card-actions fxLayout='row' fxLayoutAlign="end center">
        <button
          *ngIf="salepoint.cash_boxes?.length; else createCashBox"
          routerLink=''
          [queryParams]="{salepoint: salepoint.id, cashbox: salepoint.cash_boxes[0].id}"
          mat-raised-button
          color="primary">
          <mat-icon>launch</mat-icon> Entrer
        </button>
        <ng-template #createCashBox>
          <button mat-raised-button color="accent" (click)='openDialog(salepoint.name, salepoint.id)'>
            Cr√©er <mat-icon>add</mat-icon>
          </button>
        </ng-template>
      </mat-card-actions>
  </mat-card>
</div>
