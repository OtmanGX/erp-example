<mat-toolbar *ngIf="withToolbar">
  <div class="ml-3">
    <span *ngIf="withCrud">
      <button (click)="triggerAction('add')" mat-icon-button matTooltip="Ajouter"  color="primary" aria-label="Example icon-button with a menu">
      <mat-icon fontSet="fas" fontIcon="fa-plus"></mat-icon>
    </button>
    <button [disabled]="selectedData.length===0" (click)="triggerAction('delete', getSelectedRows())" mat-icon-button matTooltip="Supprimer" color="warn">
      <mat-icon fontSet="far" fontIcon="fa-trash-alt"></mat-icon>
    </button>
    <mat-divider class="mx-3" vertical style="height:auto; display: inline"></mat-divider>
    </span>

    <button (click)="exportCsv()" class="excel" mat-icon-button matTooltip="Exporter en excel">
      <mat-icon fontSet="fas" fontIcon="fa-file-excel"></mat-icon>
    </button>
    </div>

  <div class="spacer">

  </div>

  <div>
    <mat-form-field>
      <mat-label>Mot de recherche</mat-label>
      <input #searchInput (input)="search(searchInput.value)" matInput type="search">
      <button mat-icon-button [hidden]="hide" matSuffix (click)="searchInput.value=''; resetSearch()" [attr.aria-label]="'cancel Search'" [attr.aria-pressed]="hide">
        <mat-icon fontSet="fas" fontIcon="fa-times"></mat-icon>
      </button>
    </mat-form-field>
    <button mat-mini-fab matTooltip="Chercher" color="primary" (click)="search(searchInput.value)">
      <mat-icon fontSet="fas" fontIcon="fa-search"></mat-icon>
    </button>
  </div>
</mat-toolbar>
<ag-grid-angular
  #agGrid
  style="width: 100%; height: 400px;"
  [gridOptions]="gridOptions"
  [defaultColDef]="defaultColDef"
  class="ag-theme-alpine"
  [rowData]="rowData | async"
  [columnTypes]="columnTypes"
  [columnDefs]="columnDefs"
  [context]="context"
  [autoGroupColumnDef]="autoGroupColumnDef"
  [sideBar]="sideBar"
  [groupSelectsChildren]="true"
  [statusBar]="statusBar"
  localeText="AG_GRID_LOCALE_FR"
  (gridReady)="onGridReady($event)"
  rowGroupPanelShow="always"
  rowSelection="multiple"
>
</ag-grid-angular>
