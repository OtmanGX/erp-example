<mat-toolbar class="pt-8" *ngIf="withToolbar">
  <div>
    <span *ngIf="withCrud">
      <button (click)="triggerAction(operations.add)" mat-icon-button matTooltip="Ajouter"  color="primary" aria-label="Example icon-button with a menu">
      <mat-icon fontSet="fas" fontIcon="fa-plus"></mat-icon>
    </button>
    <button [disabled]="selectedData.length===0" (click)="deleteDialog()" mat-icon-button matTooltip="Supprimer" color="warn">
      <mat-icon fontSet="far" fontIcon="fa-trash-alt"></mat-icon>
    </button>
    <mat-divider class="mx-3" vertical style="height:auto; display: inline"></mat-divider>
    </span>

    <button (click)="openBottomSheet()" class="excel" mat-icon-button matTooltip="Exporter">
      <mat-icon fontSet="fas" fontIcon="fa-file-excel"></mat-icon>
    </button>
    </div>

  <div class="spacer">
  </div>
   <mat-form-field style="font-size: 12px" appearance="outline" floatLabel="never">
      <mat-label>Mot de recherche</mat-label>
      <input #searchInput placeholder="Mot de recherche" (input)="search(searchInput.value)" matInput type="search">
      <button *ngIf="searchInput.value!==''" style="display: inline;" mat-icon-button matSuffix (click)="searchInput.value=''; resetSearch()" [attr.aria-label]="'cancel Search'" [attr.aria-pressed]="hide">
        <mat-icon fontSet="fas" fontIcon="fa-times"></mat-icon>
      </button>
      <button style="display: inline;" mat-icon-button matSuffix color="primary" matTooltip="Chercher" (click)="search(searchInput.value)">
        <mat-icon fontSet="fas" fontIcon="fa-search"></mat-icon>
      </button>
    </mat-form-field>

</mat-toolbar>
<ag-grid-angular
  #agGrid
  style="width: 100%; height: 400px;"
  [gridOptions]="gridOptions"
  [defaultColDef]="defaultColDef"
  class="ag-theme-alpine"
  [rowData]="rowData | async"
  [columnTypes]="columnTypes"
  [columnDefs]="columnDefs"
  [context]="context"
  [autoGroupColumnDef]="autoGroupColumnDef"
  [sideBar]="sideBar"
  [groupSelectsChildren]="true"
  [statusBar]="statusBar"
  localeText="AG_GRID_LOCALE_FR"
  (gridReady)="onGridReady($event)"
  rowGroupPanelShow="always"
  rowSelection="multiple"
>
</ag-grid-angular>
